local AIO=AIO or require("AIO")local a=AIO.AddHandlers("racialSwitch",{})local b={20574,26290,20595,59224,20597,20558}local c={59752,20572,20594,58984,20549,7744,26297,28730,59542,2481}local d={20592,20596,20579,20551,822,20573,65222,20555,58943,20550,20591,5227,6562,20582,21009,20585,58985,20599,20598}function a.racialActivate(e,f,...)if e:IsInCombat()and e:InBattleground()==true then e:SendBroadcastMessage("|cff00ff00[World]|r |cffff0000You can't use racial while in combat !")return false end;if e:HasSpell(f)then e:RemoveSpell(f)end;e:LearnSpell(f)end;function a.racialDeactivateUtility(e,f)if e:IsInCombat()==true then e:SendBroadcastMessage("|cff00ff00[World]|r |cffff0000You can't use racial while in combat !")return false end;for g=1,#c do if f==c[g]then if e:HasSpell(f)then e:RemoveSpell(f)end end end;e:SaveToDB()end;function a.racialDeactivatePassive(e,f)if e:IsInCombat()==true then e:SendBroadcastMessage("|cff00ff00[World]|r |cffff0000You can't use racial while in combat !")return false end;for g=1,#d do if f==d[g]then if e:HasSpell(f)then e:RemoveSpell(f)end end end;e:SaveToDB()end;function a.racialDeactivateWeaponSpecialization(e,f)if e:IsInCombat()==true then e:SendBroadcastMessage("|cff00ff00[World]|r |cffff0000You can't use racial while in combat !")return false end;for g=1,#b do if f==b[g]then if e:HasSpell(f)then e:RemoveSpell(f)end end end;e:SaveToDB()end;function a.unLearnAllRacials(e,f)if e:IsInCombat()==true then e:SendBroadcastMessage("|cff00ff00[World]|r |cffff0000You can't use racial while in combat !")return false end;for g=1,#c do e:RemoveSpell(c[g])end;for g=1,#d do e:RemoveSpell(d[g])end;for g=1,#b do e:RemoveSpell(b[g])end;e:SaveToDB()end;local function h(i,e,j)if j=="rc"then AIO.Handle(e,"racialSwitch","MyAddonFrame")return false end end;RegisterPlayerEvent(42,h)